---
title: 함수형 프로그래밍 시작하기 (4)
tags: FP
key: post-hello-fp-4
---

### 대수 데이터 타입 (Algebraic Data Type)

모든 프로그래밍 언어들은 자신들만의 데이터 구조화 수단을 제공합니다.<br>
함수형 프로그래밍에서는 대수 데이터 타입(algebraic data type, ADT)를 제공합니다.<br>
명령형 프로그래밍에서 구조체나 클래스에 해당합니다.<br>
다만 함수형 프로그래밍에서 ADT는 단순히 값의 집합에 대해 선언적으로 기술할 뿐 <br>
그들의 행동(혹은 연산)에 대해서는 일절 다루지 않습니다. OOP의 클래스와는 구분되는 점입니다.<br>
클래스는 데이터와 행위를 같이 다루지만, 함수형 언어에서는 나중에 배우게 될<br>
타입 클래스와 같은 것을 통해 행위만을 별도로 다룹니다.<br>

---

### 대수 데이터 타입이란?
최근 함수형 프로그래밍의 요소를 받아들인 하이브리드 언어가 많이 등장 하면서 
대수 데이터 타입을 구현하기 위해 클래스를 사용하기도 하지만 그 역할에 대해 오해가 없기를 바랍니다.

대수 타입은 일종의 합성 타입으로, 결합 방법에 따라<br>
합(sum) 타입과 곱(product) 타입으로 나누어 볼 수 있습니다.<br>
즉 합 혹은 곱 연산으로 정의되는 모든 타입은 대수 데이터 타입 입니다.<br>
타입은 집합과 매우 유사성을 보입니다. ‘원소 x 가 집합 A에 속한다’는 말은, <br>
‘값 x가 타입 A이다’ 라는 말로 바꿀 수 있으며 <br>
부분 집합 관계  A ⊂ B 는, 타입 A 가 타입 B의 서브 타입이라는 말로 바꿔볼 수 있습니다.<br>
즉 합타입과 곱타입의 개념도 집합의 개념을 통해 이해할 수 있을 것입니다.<br>

![그림1 합집합](https://codeherb.github.io/assets/images/union_all.png)

합타입은 1개 이상 타입의 원소를 하나의 이름으로 묶은 것으로<br>
합 타입 전체 원소의 개수는 두 타입의 원소 개수의 합입니다.<br>
<br>
ex) Int U Float = 1 , 1.0, 1.1… 2, 2.0. 2.1…<br>
<br>
이렇게 만들어진 합타입 변수는 두 타입의 원소중 하나의 값을 가질 수 있습니다.<br>
실제 프로그래밍시 합타입의 예로는 Union 과 Enum 을 예로 들 수 있습니다.<br>

![그림2 곱집합](https://upload.wikimedia.org/wikipedia/commons/4/4e/Cartesian_Product_qtl1.svg)

곱타입은 1개 이상 타입 원소들의 조합을 자신의 원소로 합니다.<br>
원소간 순서는 관계 없이, 조합한 타입 원소 개수의 곱 만큼의 원소를 가집니다.<br>
<br>
ex) Int X Float = (1, 1.0), (1, 1.1) …<br>
                  (2, 1.0), (2, 1.1) …<br>
                     …          …     <br>
<br>
곱타입의 실 예시로는 n-튜플, 객체, 구조체를 예로 들 수 있습니다.<br>
일반적으로 함수형 언어에서 대수 타입이라고 하면 합타입을 주로 말합니다.<br>
선언시점에 타입이 어떠한 원소를 가질 수 있는지를 명확히 알 수 있기 때문에<br>
타입 추론에 매우 큰 도움을 받을 수 있기 때문입니다.<br>
<br>
### 하스켈에서 대수 데이터 타입 정의하기
하스켈에서는 대수 타입을 만들기 위해 data 키워드를 사용하며,<br>
값을 생성하는 값 생성자 혹은 값을 나열하여 정의 한다.<br>
```
data Move = Left | Right | Up | Down
```
위의 코드는 하스켈로 합타입을 구성한 예 입니다.<br>
Move라는 타입에 대해 Left, Right, Up, Down 값 중 하나를 허용함을 나타냅니다.<br>
```
data Animal = Dog String Double Double
```
이번에는 곱타입의 예시입니다.<br>
Dog에 대한 값을 생성하는 값 생성자에 String 과 Double 타입을 인자로 제공하고 있습니다. <br>
이렇게 정의된 대수 데이터 타입은 Dog 자체는 Animal 타입이 아니지만, <br>
Dog String Double Double 타입에 대해서는 Animal 타입으로 사용 가능합니다.<br>
<br>
마지막으로 합타입과 곱타입이 합쳐진 형식입니다.<br>
```
data AlgDataType = Constr1 Type11 Type12
                                | Constr2 Type21
                                | Constr3 Type31 Type32 Type33
                                | Constr4
```
지금까지 살펴보았듯 합타입이나 곱타입은 각자 다른 성질을 가지고 있고<br>
그 중에서도 합타입은 매우 유용한 성질을 가지고 있습니다.<br>
바로 합(sum)의 대상에는 자기 자신 또한 포함될 수 있다는 성질입니다.<br>
즉 데이터 타입을 재귀적으로 구성 가능하다는 것 입니다.<br>
이를 통해 무한한 크기의 데이터 구조 또한 정의 가능합니다.<br>
다음 편에는 이런 대수 타입의 성질을 이용하여 함수형 자료 구조를 정의해 보도록 하겠습니다.<br>
<br>
계속..<br>
